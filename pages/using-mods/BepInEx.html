<!doctype html>
<html lang='en'>
<head>
<link rel='stylesheet' href='./../../css/normalize.css'/>
<link rel='stylesheet' href='./../../css/main.css'/>
<link rel='stylesheet' href='./../../css/article.css'/>
<script src='../../scripts/extras.js'></script>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>
<title>BepInEx (Rain World Modding)</title>
</head>
<body>
<div class='article-box'>
<div class='article-content'>
<h1>BepInEx</h1>
<hr />
<p>BepInEx is a plugin framework primarily for Unity games. In the Rain World modding community, we are migrating to a modified version of BepInEx (from the Partiality launcher, which is now abandonware).</p>
<p><strong>Very important note:</strong> the generic BepInEx releases are not directly compatible with Rain World / RW's old Partiality mods. It is imperative you use modified Rain World BepInEx for support with the majority of existing Rain World mods (information current on 29th Dec 2020).</p>
<hr />
<h2>Installation</h2>
<p>The following video tutorial made by LeeMoriya explains how to install both RW BepInEx and BOI (see below), as well as the additional steps required to migrate from Partiality to BepInEx if applicable). <a href="https://youtu.be/brDN_8uN6-U">https://youtu.be/brDN_8uN6-U</a></p>
<p>RW BepInEx can currently be downloaded from <a href="https://beestuff.pythonanywhere.com/audb/api/v2/bepinex/download">here</a>. Download this and extact the contents of the zip archive. Place the <code>BepInEx</code> folder, and <code>doorstep_config.ini</code> and <code>winhttp.dll</code> files in your <code>Rain World</code> folder.</p>
<p>For Linux/MacOS users running Rain World using Steam Proton, follow <a href="https://docs.bepinex.dev/articles/advanced/steam_interop.html#protonwine">the BepInEx instructions</a>. This relies on protontricks (which in turn relies on winetricks and python 3.5+). Installation instructions for this are in <a href="https://github.com/Matoking/protontricks#installation">the protontricks README</a>. 
At the time of writing this (3rd April 2021), the version of protontricks on PyPI (the version installed by pip/pipx) isn't up to date with the new Proton, so you need the latest development version from the GitHub repo. This is a relatively new issue that may be fixed in the near future; if you find that this is not the case, please mention this in the Rain World Discord or make a pull request to remove this directly.</p>
<p><em>&quot;Where do my mod DLLs go?&quot;</em></p>
<ul>
<li>Partiality hook mods and BepInEx plugins go in <code>BepInEx/plugins/</code></li>
<li>Patch mods - rename to format <code>Assembly-CSharp.[modname].mm.dll</code> and place in <code>BepInEx/monomod/</code></li>
<li>Standalones are discouraged. Those that do exist the file at <code>Rain World/RainWorld_Data/Managed/Assembly-CSharp.dll</code></li>
</ul>
<p>If you can't be bothered will all of this, see the section about BOI below.</p>
<p>Other mods, such as region packs, are not managed by BepInEx. Many mods come with a README file containing installation instructions... Reading that is a good idea.</p>
<hr />
<h2>Differences from Partiality</h2>
<p><em>Partiality is a deprecated mod launcher that used to be the primary mod loader for the Rain World modding community. It served us well, but now BepInEx is here as a superior alternative.</em></p>
<h3>BOI Interface</h3>
<p>BepInEx doesn't have a graphical user interface (or GUI - the app with buttons and such). Obviously this is a little tedius for some users... This is where thalber's BlepOutIn (or BOI) launcher comes in. BOI is an app that provides a nice interface for RW BepInEx, as well as some other related tools such as easy access to Extended Dev Tools settings and region pack settings.</p>
<p><img src="../../assets/BOI-main.png" alt="BOI" /></p>
<p>You can find the release page for BOI <a href="https://github.com/thalber/BOI/releases/latest">here</a>.</p>
<h3>Increased stability</h3>
<p>The BepInEx part of RW BepInEx has been tested by a community far larger than Rain World, as it is used for many other Unity games. This means that it is more reliable and stable than Partiality. In addition, future bugs found in BepInEx and BOI will likely be addressed promptly, whereas Partiality is abandoned and will receive no widespread support.</p>
<h3>Ability to run BepInPlugins</h3>
<p>BepInPlugins, as the name suggests, are plugins made for BepInEx. Simply put, they won't run on Partiality. There are now a variety of BepInPlugins available, and they should tell you what they are.</p>
<p>As mentioned at the top of the article, RW BepInEx supports the use of Partiality mods.</p>
<hr />
<h2>Replacement of Publicity Stunt</h2>
<p>Publicity Stunt [link to pubstunt page] was discovered to cause issues when using BepInEx. This caused two issues that have now both been addressed...</p>
<h3>Referencing private members</h3>
<p>To reference private members of the game's code, <a href="https://beestuff.pythonanywhere.com/audb/api/mods/0/21/download/latest">download GeneratePublicAssembly.dll</a> , place it in <code>Rain World/BepInEx/patchers</code> , and run the game using RW BepInEx. A modified version of <code>Assembly-CSharp.dll</code> should appear in the root Rain World folder with its private members made public. <em>Do not distribute this - this is for your own use.</em></p>
<h3>Accessing private members during gameplay</h3>
<p>The file <code>Dragons.PublicDragon</code> distributed with RW BepInEx deals with the seemingly random interaction of BepInEx and pubstunt by patching all mod assemblies with some code that tells them to ignore access modifiers. Because of this,  even if your mod requires access to the game's private members, end users are not required to do anything beyond using your mod with RW BepInEx to allow this.</p>

</div><div class='article-details'></div>
</div>
</body>
</html>
